{"version":3,"sources":["webpack:///component---src-templates-chapter-en-js-ffa407c62711ab45394c.js","webpack:///./src/components/enBtn_like.js?d496","webpack:///./src/components/enBtn_like_disconnect.js?68b9","webpack:///./src/components/enBtn_read.js?cf6b","webpack:///./src/templates/chapter.en.js"],"names":["webpackJsonp","68","module","exports","__webpack_require__","_interopRequireDefault","obj","__esModule","default","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","_react","_react2","_gatsbyLink","_reactstrap","_reactCookies","_reactCookies2","EnBtn_like","_React$Component","props","this","_this","onEntering","bind","onEntered","onExiting","onExited","checkUpLikes","toggleLike","login","state","user","lecteur","nomRoman","items","nombreLike","likeStatus","likeText","btn_class_like","likeAutorise","loaded","handleSubmitLike","_this2","setState","map","item","email","chapitre","contentChapitre","titreChapitre","removeItem","id","componentWillMount","cookie","load","componentDidMount","_this3","e","_this4","auth","signInWithPopup","provider","then","result","save","path","window","location","reload","itemId","render","createElement","onSubmit","className","Button","color","Collapse","isOpen","React","Component","69","EnBtn_like_disconnect","onClick","70","EnBtn_read","checkUpReads","toggleRead","itemsLu","readStatus","readText","btn_class_read","handleSubmitRead","71","167","pageQuery","undefined","_propTypes","_propTypes2","_gatsbyLink2","_enHeader","_enHeader2","_enFooter","_enFooter2","_enBtn_like","_enBtn_read","_enBtn_like_disconnect","_firebase","Chapter","_Component","data","Breadcrumb","BreadcrumbItem","to","contentfulChapitre","active","equivalentUrl","Container","Row","Col","lg","size","offset","md","dangerouslySetInnerHTML","__html","texte","childMarkdownRemark","html","xs","chapitreAvant","chapitreApres","propTypes","PropTypes","object","isRequired"],"mappings":"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","file":"component---src-templates-chapter-en-js-ffa407c62711ab45394c.js","sourcesContent":["webpackJsonp([281344556118945],{\n\n/***/ 68:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\texports.__esModule = true;\n\t\n\tvar _react = __webpack_require__(2);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _gatsbyLink = __webpack_require__(3);\n\t\n\tvar _gatsbyLink2 = _interopRequireDefault(_gatsbyLink);\n\t\n\tvar _reactstrap = __webpack_require__(4);\n\t\n\tvar _reactCookies = __webpack_require__(7);\n\t\n\tvar _reactCookies2 = _interopRequireDefault(_reactCookies);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t//import firebase, { auth, provider } from '../firebase.js';\n\t\n\t\n\tvar EnBtn_like = function (_React$Component) {\n\t    _inherits(EnBtn_like, _React$Component);\n\t\n\t    function EnBtn_like(props) {\n\t        _classCallCheck(this, EnBtn_like);\n\t\n\t        var _this = _possibleConstructorReturn(this, _React$Component.call(this, props));\n\t\n\t        _this.onEntering = _this.onEntering.bind(_this);\n\t        _this.onEntered = _this.onEntered.bind(_this);\n\t        _this.onExiting = _this.onExiting.bind(_this);\n\t        _this.onExited = _this.onExited.bind(_this);\n\t        _this.checkUpLikes = _this.checkUpLikes.bind(_this);\n\t\n\t        _this.toggleLike = _this.toggleLike.bind(_this);\n\t\n\t        _this.login = _this.login.bind(_this);\n\t\n\t        _this.state = {\n\t            user: null,\n\t            lecteur: null,\n\t            nomRoman: \"\",\n\t            items: [],\n\t            nombreLike: 0,\n\t            likeStatus: false,\n\t            likeText: \"Like\",\n\t            btn_class_like: \"success\",\n\t            likeAutorise: true,\n\t            loaded: false\n\t        };\n\t        _this.handleSubmitLike = _this.handleSubmitLike.bind(_this);\n\t        return _this;\n\t    }\n\t\n\t    EnBtn_like.prototype.onEntering = function onEntering() {};\n\t\n\t    EnBtn_like.prototype.onEntered = function onEntered() {};\n\t\n\t    EnBtn_like.prototype.onExiting = function onExiting() {};\n\t\n\t    EnBtn_like.prototype.onExited = function onExited() {};\n\t\n\t    EnBtn_like.prototype.toggleLike = function toggleLike() {\n\t        var _this2 = this;\n\t\n\t        if (this.state.lecteur && this.state.loaded) {\n\t            if (!this.state.likeStatus) {\n\t                this.setState({ likeStatus: true });\n\t                this.setState({ likeText: \"Unlike\" });\n\t                this.setState({ nombreLike: this.state.nombreLike + 1 });\n\t                this.setState({ btn_class_like: \"danger\" });\n\t            } else {\n\t                this.setState({ likeStatus: false });\n\t                this.setState({ likeText: \"Like\" });\n\t                this.setState({ nombreLike: this.state.nombreLike - 1 });\n\t                this.setState({ btn_class_like: \"success\" });\n\t\n\t                this.state.items.map(function (item) {\n\t                    if (item.user == _this2.state.lecteur.email && item.chapitre == _this2.props.contentChapitre.titreChapitre) {\n\t                        _this2.removeItem(item.id);\n\t                    };\n\t                });\n\t            }\n\t        }\n\t    };\n\t\n\t    EnBtn_like.prototype.componentWillMount = function componentWillMount() {\n\t        this.state.lecteur = _reactCookies2.default.load('lecteur');\n\t    };\n\t\n\t    EnBtn_like.prototype.componentDidMount = function componentDidMount() {\n\t        // const itemsRef = firebase.database().ref('likes');\n\t        // itemsRef.on('value', (snapshot) => {\n\t        //     let items = snapshot.val();\n\t        //     let newState = [];\n\t        //     for (let item in items) {\n\t        //         newState.push({\n\t        //             id: item,\n\t        //             chapitre: items[item].chapitre,\n\t        //             user: items[item].user\n\t        //         });\n\t        //     }\n\t        //     this.setState({\n\t        //         items: newState\n\t        //     });\n\t\n\t        //     if (!this.state.loaded) {\n\t        //         this.checkUpLikes();\n\t        //         this.setState({ loaded: true });\n\t        //     }\n\t        // });\n\t    };\n\t\n\t    EnBtn_like.prototype.checkUpLikes = function checkUpLikes() {\n\t        var _this3 = this;\n\t\n\t        this.setState({ nombreLike: 0 });\n\t        if (this.state.lecteur) {\n\t            this.state.items.map(function (item) {\n\t                if (item.chapitre == _this3.props.contentChapitre.titreChapitre) {\n\t                    if (item.user == _this3.state.lecteur.email) {\n\t                        _this3.setState({ likeStatus: true });\n\t                        _this3.setState({ likeText: \"Unlike\" });\n\t                        _this3.setState({ btn_class_like: \"danger\" });\n\t                    };\n\t\n\t                    _this3.setState({ nombreLike: _this3.state.nombreLike + 1 });\n\t                };\n\t            });\n\t        }\n\t    };\n\t\n\t    EnBtn_like.prototype.handleSubmitLike = function handleSubmitLike(e) {\n\t        // // Empêche le refresh\n\t        // e.preventDefault();\n\t\n\t        // // Met la référence vers la database\n\t        // const itemsRef = firebase.database().ref('likes');\n\t\n\t        // if ((!this.state.likeStatus) && (this.state.loaded)) {\n\t        //     this.state.items.map((item) => {\n\t        //         if ((item.chapitre == this.props.contentChapitre.titreChapitre) && (item.user == this.state.lecteur.email)) {\n\t        //             this.setState({ likeAutorise: false });\n\t        //         };\n\t        //     })\n\t\n\t        //     if (this.state.likeAutorise) {\n\t        //         // Popule les champs dans une collection \"item\"\n\t        //         const item = {\n\t        //             user: this.state.lecteur.email,\n\t        //             chapitre: this.props.contentChapitre.titreChapitre,\n\t        //             nomRoman: this.props.contentChapitre.nomRoman\n\t        //         }\n\t\n\t        //         // Pousse l'item créé dans la collection\n\t        //         itemsRef.push(item);\n\t        //     }\n\t        // }\n\t\n\t        // this.toggleLike();\n\t    };\n\t\n\t    EnBtn_like.prototype.login = function login() {\n\t        var _this4 = this;\n\t\n\t        auth.signInWithPopup(provider).then(function (result) {\n\t            var user = result.user;\n\t            _this4.setState({\n\t                user: user\n\t            });\n\t            _reactCookies2.default.save('lecteur', _this4.state.user, { path: '/' });\n\t\n\t            window.location.reload();\n\t        });\n\t    };\n\t\n\t    EnBtn_like.prototype.removeItem = function removeItem(itemId) {\n\t        // if (this.state.likeText == \"Unlike\") {\n\t        //     const itemRef = firebase.database().ref(`/likes/${itemId}`);\n\t        //     itemRef.remove();\n\t        // }\n\t    };\n\t\n\t    EnBtn_like.prototype.render = function render() {\n\t        return _react2.default.createElement(\n\t            'form',\n\t            { onSubmit: this.handleSubmitLike, className: 'float-left d-content' },\n\t            _react2.default.createElement(\n\t                _reactstrap.Button,\n\t                { color: this.state.btn_class_like },\n\t                this.state.nombreLike + \" | \" + this.state.likeText\n\t            ),\n\t            _react2.default.createElement(_reactstrap.Collapse, {\n\t                isOpen: this.state.likeStatus,\n\t                onEntering: this.onEntering,\n\t                onEntered: this.onEntered,\n\t                onExiting: this.onExiting,\n\t                onExited: this.onExited,\n\t\n\t                className: 'float-left'\n\t            })\n\t        );\n\t    };\n\t\n\t    return EnBtn_like;\n\t}(_react2.default.Component);\n\t\n\texports.default = EnBtn_like;\n\tmodule.exports = exports['default'];\n\n/***/ }),\n\n/***/ 69:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\texports.__esModule = true;\n\t\n\tvar _react = __webpack_require__(2);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _gatsbyLink = __webpack_require__(3);\n\t\n\tvar _gatsbyLink2 = _interopRequireDefault(_gatsbyLink);\n\t\n\tvar _reactstrap = __webpack_require__(4);\n\t\n\tvar _reactCookies = __webpack_require__(7);\n\t\n\tvar _reactCookies2 = _interopRequireDefault(_reactCookies);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t//import firebase, { auth, provider } from '../firebase.js';\n\t\n\t\n\tvar EnBtn_like_disconnect = function (_React$Component) {\n\t    _inherits(EnBtn_like_disconnect, _React$Component);\n\t\n\t    function EnBtn_like_disconnect(props) {\n\t        _classCallCheck(this, EnBtn_like_disconnect);\n\t\n\t        var _this = _possibleConstructorReturn(this, _React$Component.call(this, props));\n\t\n\t        _this.checkUpLikes = _this.checkUpLikes.bind(_this);\n\t        _this.login = _this.login.bind(_this);\n\t\n\t        _this.state = {\n\t            user: null,\n\t            lecteur: null,\n\t            nomRoman: \"\",\n\t            items: [],\n\t            nombreLike: 0,\n\t            btn_class_like: \"success\",\n\t            likeAutorise: false,\n\t            loaded: false\n\t        };\n\t        return _this;\n\t    }\n\t\n\t    EnBtn_like_disconnect.prototype.componentWillMount = function componentWillMount() {\n\t        this.state.lecteur = _reactCookies2.default.load('lecteur');\n\t    };\n\t\n\t    EnBtn_like_disconnect.prototype.componentDidMount = function componentDidMount() {\n\t        // const itemsRef = firebase.database().ref('likes');\n\t        // itemsRef.on('value', (snapshot) => {\n\t        //     let items = snapshot.val();\n\t        //     let newState = [];\n\t        //     for (let item in items) {\n\t        //         newState.push({\n\t        //             id: item,\n\t        //             chapitre: items[item].chapitre,\n\t        //             user: items[item].user\n\t        //         });\n\t        //     }\n\t        //     this.setState({\n\t        //         items: newState\n\t        //     });\n\t\n\t        //     if (!this.state.loaded) {\n\t        //         this.checkUpLikes();\n\t        //         this.setState({ loaded: true });\n\t        //     }\n\t        // });\n\t    };\n\t\n\t    EnBtn_like_disconnect.prototype.checkUpLikes = function checkUpLikes() {\n\t        var _this2 = this;\n\t\n\t        this.setState({ nombreLike: 0 });\n\t        if (this.state.lecteur) {\n\t            this.state.items.map(function (item) {\n\t                if (item.chapitre == _this2.props.contentChapitre.titreChapitre) {\n\t                    if (item.user == _this2.state.lecteur.email) {\n\t                        _this2.setState({ likeStatus: true });\n\t                        _this2.setState({ likeText: \"Je n'aime plus\" });\n\t                        _this2.setState({ btn_class_like: \"danger\" });\n\t                    };\n\t\n\t                    _this2.setState({ nombreLike: _this2.state.nombreLike + 1 });\n\t                };\n\t            });\n\t        }\n\t    };\n\t\n\t    EnBtn_like_disconnect.prototype.login = function login() {\n\t        var _this3 = this;\n\t\n\t        auth.signInWithPopup(provider).then(function (result) {\n\t            var user = result.user;\n\t            _this3.setState({\n\t                user: user\n\t            });\n\t            _reactCookies2.default.save('lecteur', _this3.state.user, { path: '/' });\n\t\n\t            window.location.reload();\n\t        });\n\t    };\n\t\n\t    EnBtn_like_disconnect.prototype.render = function render() {\n\t        return _react2.default.createElement(\n\t            _reactstrap.Button,\n\t            { color: this.state.btn_class_like, onClick: this.login },\n\t            this.state.nombreLike + \" | Login to give a like\"\n\t        );\n\t    };\n\t\n\t    return EnBtn_like_disconnect;\n\t}(_react2.default.Component);\n\t\n\texports.default = EnBtn_like_disconnect;\n\tmodule.exports = exports['default'];\n\n/***/ }),\n\n/***/ 70:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\texports.__esModule = true;\n\t\n\tvar _react = __webpack_require__(2);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _gatsbyLink = __webpack_require__(3);\n\t\n\tvar _gatsbyLink2 = _interopRequireDefault(_gatsbyLink);\n\t\n\tvar _reactstrap = __webpack_require__(4);\n\t\n\tvar _reactCookies = __webpack_require__(7);\n\t\n\tvar _reactCookies2 = _interopRequireDefault(_reactCookies);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t//import firebase, { auth, provider } from '../firebase.js';\n\t\n\t\n\tvar EnBtn_read = function (_React$Component) {\n\t    _inherits(EnBtn_read, _React$Component);\n\t\n\t    function EnBtn_read(props) {\n\t        _classCallCheck(this, EnBtn_read);\n\t\n\t        var _this = _possibleConstructorReturn(this, _React$Component.call(this, props));\n\t\n\t        _this.onEntering = _this.onEntering.bind(_this);\n\t        _this.onEntered = _this.onEntered.bind(_this);\n\t        _this.onExiting = _this.onExiting.bind(_this);\n\t        _this.onExited = _this.onExited.bind(_this);\n\t        _this.checkUpReads = _this.checkUpReads.bind(_this);\n\t\n\t        _this.toggleRead = _this.toggleRead.bind(_this);\n\t\n\t        _this.login = _this.login.bind(_this);\n\t\n\t        _this.state = {\n\t            user: null,\n\t            lecteur: null,\n\t            nomRoman: \"\",\n\t            items: [],\n\t            itemsLu: [],\n\t            readStatus: false,\n\t            readText: \"Mark read\",\n\t            btn_class_read: \"success\",\n\t            likeAutorise: true,\n\t            loaded: false\n\t        };\n\t        _this.handleSubmitRead = _this.handleSubmitRead.bind(_this);\n\t        return _this;\n\t    }\n\t\n\t    EnBtn_read.prototype.onEntering = function onEntering() {};\n\t\n\t    EnBtn_read.prototype.onEntered = function onEntered() {};\n\t\n\t    EnBtn_read.prototype.onExiting = function onExiting() {};\n\t\n\t    EnBtn_read.prototype.onExited = function onExited() {};\n\t\n\t    EnBtn_read.prototype.toggleRead = function toggleRead() {\n\t        var _this2 = this;\n\t\n\t        if (this.state.lecteur && this.state.loaded) {\n\t            if (!this.state.readStatus) {\n\t                this.setState({ readStatus: true });\n\t                this.setState({ readText: \"Unmark read\" });\n\t                this.setState({ btn_class_read: \"danger\" });\n\t            } else {\n\t                this.setState({ readStatus: false });\n\t                this.setState({ readText: \"Mark read\" });\n\t                this.setState({ btn_class_read: \"success\" });\n\t\n\t                this.state.itemsLu.map(function (item) {\n\t                    if (item.user == _this2.state.lecteur.email && item.chapitre == _this2.props.contentChapitre.titreChapitre) {\n\t                        _this2.removeItem(item.id);\n\t                    };\n\t                });\n\t            }\n\t        }\n\t    };\n\t\n\t    EnBtn_read.prototype.componentWillMount = function componentWillMount() {\n\t        this.state.lecteur = _reactCookies2.default.load('lecteur');\n\t    };\n\t\n\t    EnBtn_read.prototype.componentDidMount = function componentDidMount() {\n\t        // const itemsRefLu = firebase.database().ref('reads');\n\t        // itemsRefLu.on('value', (snapshot) => {\n\t        //     let itemsLu = snapshot.val();\n\t        //     let newState = [];\n\t        //     for (let item in itemsLu) {\n\t        //         newState.push({\n\t        //             id: item,\n\t        //             chapitre: itemsLu[item].chapitre,\n\t        //             chapitreSlug: itemsLu[item].slug,\n\t        //             user: itemsLu[item].user,\n\t        //             nomRoman: itemsLu[item].nomRoman\n\t        //         });\n\t        //     }\n\t        //     this.setState({\n\t        //         itemsLu: newState\n\t        //     });\n\t\n\t        //     if (!this.state.loaded) {\n\t        //         this.checkUpReads();\n\t        //         this.setState({ loaded: true });\n\t        //     }\n\t        // });\n\t    };\n\t\n\t    EnBtn_read.prototype.checkUpReads = function checkUpReads() {\n\t        var _this3 = this;\n\t\n\t        if (this.state.lecteur) {\n\t            this.state.itemsLu.map(function (item) {\n\t                if (item.chapitre == _this3.props.contentChapitre.titreChapitre && item.user == _this3.state.lecteur.email) {\n\t                    _this3.setState({ readStatus: true });\n\t                    _this3.setState({ readText: \"Unmark read\" });\n\t                    _this3.setState({ btn_class_read: \"danger\" });\n\t                };\n\t            });\n\t        }\n\t    };\n\t\n\t    EnBtn_read.prototype.handleSubmitRead = function handleSubmitRead(e) {\n\t        // // Empêche le refresh\n\t        // e.preventDefault();\n\t\n\t        // // Met la référence vers la database\n\t        // const itemsRef = firebase.database().ref('reads');\n\t\n\t        // if ((!this.state.readStatus) && (this.state.loaded)) {\n\t        //     this.state.items.map((itemLu) => {\n\t        //         if ((itemLu.chapitre == this.props.contentChapitre.titreChapitre) && (itemLu.user == this.state.lecteur.email)) {\n\t        //             this.setState({ likeAutorise: false });\n\t        //         };\n\t        //     })\n\t\n\t        //     if (this.state.likeAutorise) {\n\t        //         // Popule les champs dans une collection \"item\"\n\t        //         const itemLu = {\n\t        //             user: this.state.lecteur.email,\n\t        //             chapitre: this.props.contentChapitre.titreChapitre,\n\t        //             chapitreSlug: this.props.contentChapitre.slug,\n\t        //             nomRoman: this.props.contentChapitre.nomRoman,\n\t        //             chapitreApres: this.props.contentChapitre.chapitreApres,\n\t        //             codeChapitre: this.props.contentChapitre.codeChapitre\n\t        //         }\n\t\n\t        //         // Pousse l'item créé dans la collection\n\t        //         itemsRef.push(itemLu);\n\t        //     }\n\t        // }\n\t\n\t        // this.toggleRead();\n\t    };\n\t\n\t    EnBtn_read.prototype.login = function login() {\n\t        var _this4 = this;\n\t\n\t        auth.signInWithPopup(provider).then(function (result) {\n\t            var user = result.user;\n\t            _this4.setState({\n\t                user: user\n\t            });\n\t            _reactCookies2.default.save('lecteur', _this4.state.user, { path: '/' });\n\t\n\t            window.location.reload();\n\t        });\n\t    };\n\t\n\t    EnBtn_read.prototype.removeItem = function removeItem(itemId) {\n\t        // if (this.state.readText == \"Unmark read\") {\n\t        //     const itemRef = firebase.database().ref(`/reads/${itemId}`);\n\t        //     itemRef.remove();\n\t        // }\n\t    };\n\t\n\t    EnBtn_read.prototype.render = function render() {\n\t        return _react2.default.createElement(\n\t            'form',\n\t            { onSubmit: this.handleSubmitRead, className: 'float-left d-content' },\n\t            _react2.default.createElement(\n\t                _reactstrap.Button,\n\t                { color: this.state.btn_class_read },\n\t                this.state.readText\n\t            ),\n\t            _react2.default.createElement(_reactstrap.Collapse, {\n\t                isOpen: this.state.readStatus,\n\t                onEntering: this.onEntering,\n\t                onEntered: this.onEntered,\n\t                onExiting: this.onExiting,\n\t                onExited: this.onExited,\n\t\n\t                className: 'float-left'\n\t            })\n\t        );\n\t    };\n\t\n\t    return EnBtn_read;\n\t}(_react2.default.Component);\n\t\n\texports.default = EnBtn_read;\n\tmodule.exports = exports['default'];\n\n/***/ }),\n\n/***/ 71:\n/***/ (function(module, exports) {\n\n\t// import firebase from 'firebase'\n\t// const config = {\n\t//   apiKey: \"AIzaSyDN76_Af2ZvRy8KHQLd9XbhusfWkLV5Adg\",\n\t//   authDomain: \"venatusuniverse-1f10d.firebaseapp.com\",\n\t//   databaseURL: \"https://venatusuniverse-1f10d.firebaseio.com\",\n\t//   projectId: \"venatusuniverse-1f10d\",\n\t//   storageBucket: \"venatusuniverse-1f10d.appspot.com\",\n\t//   messagingSenderId: \"948799971419\",\n\t// };\n\t// firebase.initializeApp(config);\n\t\n\t// export const provider = new firebase.auth.GoogleAuthProvider();\n\t// //provider.getCredential(null, null);\n\t\n\t// export const auth = firebase.auth();\n\t\n\t// export default firebase;\n\t\"use strict\";\n\n/***/ }),\n\n/***/ 167:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\texports.__esModule = true;\n\texports.pageQuery = undefined;\n\t\n\tvar _react = __webpack_require__(2);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _propTypes = __webpack_require__(5);\n\t\n\tvar _propTypes2 = _interopRequireDefault(_propTypes);\n\t\n\tvar _gatsbyLink = __webpack_require__(3);\n\t\n\tvar _gatsbyLink2 = _interopRequireDefault(_gatsbyLink);\n\t\n\t__webpack_require__(6);\n\t\n\tvar _reactstrap = __webpack_require__(4);\n\t\n\tvar _enHeader = __webpack_require__(11);\n\t\n\tvar _enHeader2 = _interopRequireDefault(_enHeader);\n\t\n\tvar _enFooter = __webpack_require__(10);\n\t\n\tvar _enFooter2 = _interopRequireDefault(_enFooter);\n\t\n\tvar _enBtn_like = __webpack_require__(68);\n\t\n\tvar _enBtn_like2 = _interopRequireDefault(_enBtn_like);\n\t\n\tvar _enBtn_read = __webpack_require__(70);\n\t\n\tvar _enBtn_read2 = _interopRequireDefault(_enBtn_read);\n\t\n\tvar _enBtn_like_disconnect = __webpack_require__(69);\n\t\n\tvar _enBtn_like_disconnect2 = _interopRequireDefault(_enBtn_like_disconnect);\n\t\n\tvar _firebase = __webpack_require__(71);\n\t\n\tvar _reactCookies = __webpack_require__(7);\n\t\n\tvar _reactCookies2 = _interopRequireDefault(_reactCookies);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar Chapter = function (_Component) {\n\t\t_inherits(Chapter, _Component);\n\t\n\t\tfunction Chapter(props) {\n\t\t\t_classCallCheck(this, Chapter);\n\t\n\t\t\tvar _this = _possibleConstructorReturn(this, _Component.call(this, props));\n\t\n\t\t\t_this.login = _this.login.bind(_this);\n\t\n\t\t\t_this.state = {\n\t\t\t\tuser: null,\n\t\t\t\tlecteur: null\n\t\t\t};\n\t\t\treturn _this;\n\t\t}\n\t\n\t\tChapter.prototype.componentWillMount = function componentWillMount() {\n\t\t\tthis.state.lecteur = _reactCookies2.default.load('lecteur');\n\t\t};\n\t\n\t\tChapter.prototype.login = function login() {\n\t\t\tvar _this2 = this;\n\t\n\t\t\t_firebase.auth.signInWithPopup(_firebase.provider).then(function (result) {\n\t\t\t\tvar user = result.user;\n\t\t\t\t_this2.setState({\n\t\t\t\t\tuser: user\n\t\t\t\t});\n\t\t\t\t_reactCookies2.default.save('lecteur', _this2.state.user, { path: '/' });\n\t\n\t\t\t\twindow.location.reload();\n\t\t\t});\n\t\t};\n\t\n\t\tChapter.prototype.render = function render() {\n\t\t\tvar data = this.props.data;\n\t\n\t\n\t\t\treturn _react2.default.createElement(\n\t\t\t\t'div',\n\t\t\t\t{ id: 'page-wrapper' },\n\t\t\t\t_react2.default.createElement(_enHeader2.default, null),\n\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t'div',\n\t\t\t\t\tnull,\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t_reactstrap.Breadcrumb,\n\t\t\t\t\t\t{ className: 'mb-0' },\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t_reactstrap.BreadcrumbItem,\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t_gatsbyLink2.default,\n\t\t\t\t\t\t\t\t{ to: '/en' },\n\t\t\t\t\t\t\t\t'Homepage'\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t),\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t_reactstrap.BreadcrumbItem,\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t_gatsbyLink2.default,\n\t\t\t\t\t\t\t\t{ to: '/en/stories' },\n\t\t\t\t\t\t\t\t'Our Univese stories...'\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t),\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t_reactstrap.BreadcrumbItem,\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t_gatsbyLink2.default,\n\t\t\t\t\t\t\t\t{ to: \"/en/stories/\" + data.contentfulChapitre.nomRoman },\n\t\t\t\t\t\t\t\t'Story'\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t),\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t_reactstrap.BreadcrumbItem,\n\t\t\t\t\t\t\t{ active: true },\n\t\t\t\t\t\t\tdata.contentfulChapitre.titreChapitre\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t),\n\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t'div',\n\t\t\t\t\t{ className: 'equiv' },\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t_gatsbyLink2.default,\n\t\t\t\t\t\t{ className: 'text-white', to: data.contentfulChapitre.equivalentUrl },\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t_reactstrap.Button,\n\t\t\t\t\t\t\t{ className: 'float-right', color: 'primary' },\n\t\t\t\t\t\t\t'Fr'\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t),\n\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t'div',\n\t\t\t\t\tnull,\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t_reactstrap.Container,\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t_reactstrap.Row,\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t_reactstrap.Col,\n\t\t\t\t\t\t\t\t{ lg: { size: 10, offset: 1 }, md: '12' },\n\t\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t\t'h1',\n\t\t\t\t\t\t\t\t\t{ className: 'page-header display-4 text-center my-5' },\n\t\t\t\t\t\t\t\t\tdata.contentfulChapitre.titreChapitre\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t_react2.default.createElement('div', { className: 'text-justify lecture-texte', dangerouslySetInnerHTML: { __html: data.contentfulChapitre.texte.childMarkdownRemark.html } })\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t),\n\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t'div',\n\t\t\t\t\t{ className: 'py-5' },\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t_reactstrap.Container,\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t_reactstrap.Row,\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t_reactstrap.Col,\n\t\t\t\t\t\t\t\t{ lg: { size: 10, offset: 1 }, md: '12' },\n\t\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t\t_reactstrap.Row,\n\t\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t\t\t_reactstrap.Col,\n\t\t\t\t\t\t\t\t\t\t{ xs: '4', className: 'text-left pl-0' },\n\t\t\t\t\t\t\t\t\t\tdata.contentfulChapitre.chapitreAvant ? _react2.default.createElement(\n\t\t\t\t\t\t\t\t\t\t\t_gatsbyLink2.default,\n\t\t\t\t\t\t\t\t\t\t\t{ className: 'btn btn-primary', to: \"/en/stories/chapter/\" + data.contentfulChapitre.chapitreAvant },\n\t\t\t\t\t\t\t\t\t\t\t'Previous chapter'\n\t\t\t\t\t\t\t\t\t\t) : ''\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t\t\t_reactstrap.Col,\n\t\t\t\t\t\t\t\t\t\t{ xs: '4', className: 'text-center' },\n\t\t\t\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t\t\t\t_gatsbyLink2.default,\n\t\t\t\t\t\t\t\t\t\t\t{ className: 'btn btn-primary', to: \"/en/stories/\" + data.contentfulChapitre.nomRoman },\n\t\t\t\t\t\t\t\t\t\t\t'Go back to the story'\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t\t\t_reactstrap.Col,\n\t\t\t\t\t\t\t\t\t\t{ xs: '4', className: 'text-right pr-0' },\n\t\t\t\t\t\t\t\t\t\tdata.contentfulChapitre.chapitreApres ? _react2.default.createElement(\n\t\t\t\t\t\t\t\t\t\t\t_gatsbyLink2.default,\n\t\t\t\t\t\t\t\t\t\t\t{ className: 'btn btn-primary', to: \"/en/stories/chapter/\" + data.contentfulChapitre.chapitreApres },\n\t\t\t\t\t\t\t\t\t\t\t'Next chapter'\n\t\t\t\t\t\t\t\t\t\t) : ''\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t),\n\t\t\t\t_react2.default.createElement(_enFooter2.default, null)\n\t\t\t);\n\t\t};\n\t\n\t\treturn Chapter;\n\t}(_react.Component);\n\t\n\tChapter.propTypes = {\n\t\tdata: _propTypes2.default.object.isRequired\n\t};\n\t\n\texports.default = Chapter;\n\tvar pageQuery = exports.pageQuery = '** extracted graphql fragment **';\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// component---src-templates-chapter-en-js-ffa407c62711ab45394c.js","import React, { Component } from 'react'\r\nimport Link from 'gatsby-link'\r\nimport {\r\n    Button,\r\n    Collapse\r\n} from 'reactstrap';\r\n//import firebase, { auth, provider } from '../firebase.js';\r\nimport cookie from 'react-cookies';\r\n\r\nexport default class EnBtn_like extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.onEntering = this.onEntering.bind(this);\r\n        this.onEntered = this.onEntered.bind(this);\r\n        this.onExiting = this.onExiting.bind(this);\r\n        this.onExited = this.onExited.bind(this);\r\n        this.checkUpLikes = this.checkUpLikes.bind(this);\r\n\r\n        this.toggleLike = this.toggleLike.bind(this);\r\n\r\n        this.login = this.login.bind(this);\r\n\r\n        this.state = {\r\n            user: null,\r\n            lecteur: null,\r\n            nomRoman: \"\",\r\n            items: [],\r\n            nombreLike: 0,\r\n            likeStatus: false,\r\n            likeText: \"Like\",\r\n            btn_class_like: \"success\",\r\n\t\t\tlikeAutorise: true,\r\n            loaded: false\r\n        };\r\n        this.handleSubmitLike = this.handleSubmitLike.bind(this);\r\n    }\r\n\r\n    onEntering() { }\r\n\r\n    onEntered() { }\r\n\r\n    onExiting() { }\r\n\r\n    onExited() { }\r\n\r\n    toggleLike() {\r\n        if ((this.state.lecteur) && (this.state.loaded)) {\r\n            if (!this.state.likeStatus) {\r\n                this.setState({ likeStatus: true });\r\n                this.setState({ likeText: \"Unlike\" });\r\n                this.setState({ nombreLike: this.state.nombreLike + 1 });\r\n                this.setState({ btn_class_like: \"danger\" });\r\n            } else {\r\n                this.setState({ likeStatus: false });\r\n                this.setState({ likeText: \"Like\" });\r\n                this.setState({ nombreLike: this.state.nombreLike - 1 });\r\n                this.setState({ btn_class_like: \"success\" });\r\n\r\n                this.state.items.map((item) => {\r\n                    if ((item.user == this.state.lecteur.email) && (item.chapitre == this.props.contentChapitre.titreChapitre)) {\r\n                        this.removeItem(item.id);\r\n                    };\r\n                })\r\n            }\r\n        }\r\n    }\r\n\r\n    componentWillMount() {\r\n        this.state.lecteur = cookie.load('lecteur');\r\n    }\r\n\r\n    componentDidMount() {\r\n        // const itemsRef = firebase.database().ref('likes');\r\n        // itemsRef.on('value', (snapshot) => {\r\n        //     let items = snapshot.val();\r\n        //     let newState = [];\r\n        //     for (let item in items) {\r\n        //         newState.push({\r\n        //             id: item,\r\n        //             chapitre: items[item].chapitre,\r\n        //             user: items[item].user\r\n        //         });\r\n        //     }\r\n        //     this.setState({\r\n        //         items: newState\r\n        //     });\r\n\r\n        //     if (!this.state.loaded) {\r\n        //         this.checkUpLikes();\r\n        //         this.setState({ loaded: true });\r\n        //     }\r\n        // });\r\n    }\r\n\r\n    checkUpLikes() {\r\n        this.setState({ nombreLike: 0 });\r\n        if (this.state.lecteur) {\r\n            this.state.items.map((item) => {\r\n                if (item.chapitre == this.props.contentChapitre.titreChapitre) {\r\n                    if (item.user == this.state.lecteur.email) {\r\n                        this.setState({ likeStatus: true });\r\n                        this.setState({ likeText: \"Unlike\" });\r\n                        this.setState({ btn_class_like: \"danger\" });\r\n                    };\r\n\r\n                    this.setState({ nombreLike: this.state.nombreLike + 1 });\r\n                };\r\n            })\r\n        }\r\n    }\r\n\r\n    handleSubmitLike(e) {\r\n        // // Empêche le refresh\r\n        // e.preventDefault();\r\n\r\n        // // Met la référence vers la database\r\n        // const itemsRef = firebase.database().ref('likes');\r\n\r\n        // if ((!this.state.likeStatus) && (this.state.loaded)) {\r\n        //     this.state.items.map((item) => {\r\n        //         if ((item.chapitre == this.props.contentChapitre.titreChapitre) && (item.user == this.state.lecteur.email)) {\r\n        //             this.setState({ likeAutorise: false });\r\n        //         };\r\n        //     })\r\n\r\n        //     if (this.state.likeAutorise) {\r\n        //         // Popule les champs dans une collection \"item\"\r\n        //         const item = {\r\n        //             user: this.state.lecteur.email,\r\n        //             chapitre: this.props.contentChapitre.titreChapitre,\r\n        //             nomRoman: this.props.contentChapitre.nomRoman\r\n        //         }\r\n\r\n        //         // Pousse l'item créé dans la collection\r\n        //         itemsRef.push(item);\r\n        //     }\r\n        // }\r\n\r\n        // this.toggleLike();\r\n    }\r\n\r\n    login() {\r\n        auth.signInWithPopup(provider)\r\n            .then((result) => {\r\n                const user = result.user;\r\n                this.setState({\r\n                    user\r\n                });\r\n                cookie.save('lecteur', this.state.user, { path: '/' });\r\n\r\n                window.location.reload();\r\n            });\r\n    }\r\n\r\n    removeItem(itemId) {\r\n        // if (this.state.likeText == \"Unlike\") {\r\n        //     const itemRef = firebase.database().ref(`/likes/${itemId}`);\r\n        //     itemRef.remove();\r\n        // }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <form onSubmit={this.handleSubmitLike} className=\"float-left d-content\">\r\n                <Button color={this.state.btn_class_like}>{this.state.nombreLike + \" | \" + this.state.likeText}</Button>\r\n\r\n                <Collapse\r\n                    isOpen={this.state.likeStatus}\r\n                    onEntering={this.onEntering}\r\n                    onEntered={this.onEntered}\r\n                    onExiting={this.onExiting}\r\n                    onExited={this.onExited}\r\n\r\n                    className=\"float-left\"\r\n                >\r\n                </Collapse>\r\n            </form>\r\n        );\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/enBtn_like.js","import React, { Component } from 'react'\r\nimport Link from 'gatsby-link'\r\nimport {\r\n    Button,\r\n    Collapse\r\n} from 'reactstrap';\r\n//import firebase, { auth, provider } from '../firebase.js';\r\nimport cookie from 'react-cookies';\r\n\r\nexport default class EnBtn_like_disconnect extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.checkUpLikes = this.checkUpLikes.bind(this);\r\n        this.login = this.login.bind(this);\r\n\r\n        this.state = {\r\n            user: null,\r\n            lecteur: null,\r\n            nomRoman: \"\",\r\n            items: [],\r\n            nombreLike: 0,\r\n            btn_class_like: \"success\",\r\n\t\t\tlikeAutorise: false,\r\n            loaded: false\r\n        };\r\n    }\r\n\r\n    componentWillMount() {\r\n        this.state.lecteur = cookie.load('lecteur');\r\n    }\r\n\r\n    componentDidMount() {\r\n        // const itemsRef = firebase.database().ref('likes');\r\n        // itemsRef.on('value', (snapshot) => {\r\n        //     let items = snapshot.val();\r\n        //     let newState = [];\r\n        //     for (let item in items) {\r\n        //         newState.push({\r\n        //             id: item,\r\n        //             chapitre: items[item].chapitre,\r\n        //             user: items[item].user\r\n        //         });\r\n        //     }\r\n        //     this.setState({\r\n        //         items: newState\r\n        //     });\r\n\r\n        //     if (!this.state.loaded) {\r\n        //         this.checkUpLikes();\r\n        //         this.setState({ loaded: true });\r\n        //     }\r\n        // });\r\n    }\r\n\r\n    checkUpLikes() {\r\n        this.setState({ nombreLike: 0 });\r\n        if (this.state.lecteur) {\r\n            this.state.items.map((item) => {\r\n                if (item.chapitre == this.props.contentChapitre.titreChapitre) {\r\n                    if (item.user == this.state.lecteur.email) {\r\n                        this.setState({ likeStatus: true });\r\n                        this.setState({ likeText: \"Je n'aime plus\" });\r\n                        this.setState({ btn_class_like: \"danger\" });\r\n                    };\r\n\r\n                    this.setState({ nombreLike: this.state.nombreLike + 1 });\r\n                };\r\n            })\r\n        }\r\n    }\r\n\r\n    login() {\r\n        auth.signInWithPopup(provider)\r\n            .then((result) => {\r\n                const user = result.user;\r\n                this.setState({\r\n                    user\r\n                });\r\n                cookie.save('lecteur', this.state.user, { path: '/' });\r\n\r\n                window.location.reload();\r\n            });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Button color={this.state.btn_class_like} onClick={this.login}>{this.state.nombreLike + \" | Login to give a like\"}</Button>\r\n        );\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/enBtn_like_disconnect.js","import React, { Component } from 'react'\r\nimport Link from 'gatsby-link'\r\nimport {\r\n    Button,\r\n    Collapse\r\n} from 'reactstrap';\r\n//import firebase, { auth, provider } from '../firebase.js';\r\nimport cookie from 'react-cookies';\r\n\r\nexport default class EnBtn_read extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.onEntering = this.onEntering.bind(this);\r\n        this.onEntered = this.onEntered.bind(this);\r\n        this.onExiting = this.onExiting.bind(this);\r\n        this.onExited = this.onExited.bind(this);\r\n        this.checkUpReads = this.checkUpReads.bind(this);\r\n\r\n        this.toggleRead = this.toggleRead.bind(this);\r\n\r\n        this.login = this.login.bind(this);\r\n\r\n        this.state = {\r\n            user: null,\r\n            lecteur: null,\r\n            nomRoman: \"\",\r\n            items: [],\r\n            itemsLu: [],\r\n            readStatus: false,\r\n            readText: \"Mark read\",\r\n            btn_class_read: \"success\",\r\n\t\t\tlikeAutorise: true,\r\n            loaded: false\r\n        };\r\n        this.handleSubmitRead = this.handleSubmitRead.bind(this);\r\n    }\r\n\r\n    onEntering() { }\r\n\r\n    onEntered() { }\r\n\r\n    onExiting() { }\r\n\r\n    onExited() { }\r\n\r\n    toggleRead() {\r\n        if ((this.state.lecteur) && (this.state.loaded)) {\r\n            if (!this.state.readStatus) {\r\n                this.setState({ readStatus: true });\r\n                this.setState({ readText: \"Unmark read\" });\r\n                this.setState({ btn_class_read: \"danger\" });\r\n            } else {\r\n                this.setState({ readStatus: false });\r\n                this.setState({ readText: \"Mark read\" });\r\n                this.setState({ btn_class_read: \"success\" });\r\n\r\n                this.state.itemsLu.map((item) => {\r\n                    if ((item.user == this.state.lecteur.email) && (item.chapitre == this.props.contentChapitre.titreChapitre)) {\r\n                        this.removeItem(item.id);\r\n                    };\r\n                })\r\n            }\r\n        }\r\n    }\r\n\r\n    componentWillMount() {\r\n        this.state.lecteur = cookie.load('lecteur');\r\n    }\r\n\r\n    componentDidMount() {\r\n        // const itemsRefLu = firebase.database().ref('reads');\r\n        // itemsRefLu.on('value', (snapshot) => {\r\n        //     let itemsLu = snapshot.val();\r\n        //     let newState = [];\r\n        //     for (let item in itemsLu) {\r\n        //         newState.push({\r\n        //             id: item,\r\n        //             chapitre: itemsLu[item].chapitre,\r\n        //             chapitreSlug: itemsLu[item].slug,\r\n        //             user: itemsLu[item].user,\r\n        //             nomRoman: itemsLu[item].nomRoman\r\n        //         });\r\n        //     }\r\n        //     this.setState({\r\n        //         itemsLu: newState\r\n        //     });\r\n\r\n        //     if (!this.state.loaded) {\r\n        //         this.checkUpReads();\r\n        //         this.setState({ loaded: true });\r\n        //     }\r\n        // });\r\n    }\r\n\r\n    checkUpReads() {\r\n        if (this.state.lecteur) {\r\n            this.state.itemsLu.map((item) => {\r\n                if ((item.chapitre == this.props.contentChapitre.titreChapitre) && (item.user == this.state.lecteur.email)) {\r\n                    this.setState({ readStatus: true });\r\n                    this.setState({ readText: \"Unmark read\" });\r\n                    this.setState({ btn_class_read: \"danger\" });\r\n                };\r\n            })\r\n        }\r\n    }\r\n\r\n    handleSubmitRead(e) {\r\n        // // Empêche le refresh\r\n        // e.preventDefault();\r\n\r\n        // // Met la référence vers la database\r\n        // const itemsRef = firebase.database().ref('reads');\r\n\r\n        // if ((!this.state.readStatus) && (this.state.loaded)) {\r\n        //     this.state.items.map((itemLu) => {\r\n        //         if ((itemLu.chapitre == this.props.contentChapitre.titreChapitre) && (itemLu.user == this.state.lecteur.email)) {\r\n        //             this.setState({ likeAutorise: false });\r\n        //         };\r\n        //     })\r\n\r\n        //     if (this.state.likeAutorise) {\r\n        //         // Popule les champs dans une collection \"item\"\r\n        //         const itemLu = {\r\n        //             user: this.state.lecteur.email,\r\n        //             chapitre: this.props.contentChapitre.titreChapitre,\r\n        //             chapitreSlug: this.props.contentChapitre.slug,\r\n        //             nomRoman: this.props.contentChapitre.nomRoman,\r\n        //             chapitreApres: this.props.contentChapitre.chapitreApres,\r\n        //             codeChapitre: this.props.contentChapitre.codeChapitre\r\n        //         }\r\n\r\n        //         // Pousse l'item créé dans la collection\r\n        //         itemsRef.push(itemLu);\r\n        //     }\r\n        // }\r\n\r\n        // this.toggleRead();\r\n    }\r\n\r\n    login() {\r\n        auth.signInWithPopup(provider)\r\n            .then((result) => {\r\n                const user = result.user;\r\n                this.setState({\r\n                    user\r\n                });\r\n                cookie.save('lecteur', this.state.user, { path: '/' });\r\n\r\n                window.location.reload();\r\n            });\r\n    }\r\n\r\n    removeItem(itemId) {\r\n        // if (this.state.readText == \"Unmark read\") {\r\n        //     const itemRef = firebase.database().ref(`/reads/${itemId}`);\r\n        //     itemRef.remove();\r\n        // }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <form onSubmit={this.handleSubmitRead} className=\"float-left d-content\">\r\n                <Button color={this.state.btn_class_read}>{this.state.readText}</Button>\r\n\r\n                <Collapse\r\n                    isOpen={this.state.readStatus}\r\n                    onEntering={this.onEntering}\r\n                    onEntered={this.onEntered}\r\n                    onExiting={this.onExiting}\r\n                    onExited={this.onExited}\r\n\r\n                    className=\"float-left\"\r\n                >\r\n                </Collapse>\r\n            </form>\r\n        );\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/enBtn_read.js","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Link from 'gatsby-link'\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport {\r\n\tContainer,\r\n\tRow,\r\n\tCol,\r\n\tBreadcrumb,\r\n\tBreadcrumbItem,\r\n\tButton\r\n} from 'reactstrap';\r\nimport HeaderEn from '../components/enHeader'\r\nimport FooterEn from '../components/enFooter'\r\nimport EnBtn_like from '../components/enBtn_like'\r\nimport EnBtn_read from '../components/enBtn_read'\r\nimport EnBtn_like_disconnect from '../components/enBtn_like_disconnect'\r\nimport { auth, provider } from '../firebase.js';\r\nimport cookie from 'react-cookies';\r\n\r\nclass Chapter extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.login = this.login.bind(this);\r\n\r\n\t\tthis.state = {\r\n\t\t\tuser: null,\r\n\t\t\tlecteur: null\r\n\t\t};\r\n\t}\r\n\r\n\tcomponentWillMount() {\r\n\t\tthis.state.lecteur = cookie.load('lecteur');\r\n\t}\r\n\r\n\tlogin() {\r\n\t\tauth.signInWithPopup(provider)\r\n\t\t\t.then((result) => {\r\n\t\t\t\tconst user = result.user;\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tuser\r\n\t\t\t\t});\r\n\t\t\t\tcookie.save('lecteur', this.state.user, { path: '/' });\r\n\r\n\t\t\t\twindow.location.reload();\r\n\t\t\t});\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tdata\r\n\t\t} = this.props\r\n\r\n\t\treturn (\r\n\t\t\t<div id=\"page-wrapper\">\r\n\t\t\t\t<HeaderEn />\r\n\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Breadcrumb className=\"mb-0\">\r\n\t\t\t\t\t\t<BreadcrumbItem><Link to=\"/en\">Homepage</Link></BreadcrumbItem>\r\n\t\t\t\t\t\t<BreadcrumbItem><Link to=\"/en/stories\">Our Univese stories...</Link></BreadcrumbItem>\r\n\t\t\t\t\t\t<BreadcrumbItem><Link to={\"/en/stories/\" + data.contentfulChapitre.nomRoman}>Story</Link></BreadcrumbItem>\r\n\t\t\t\t\t\t<BreadcrumbItem active>{data.contentfulChapitre.titreChapitre}</BreadcrumbItem>\r\n\t\t\t\t\t</Breadcrumb>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"equiv\">\r\n\t\t\t\t\t<Link className=\"text-white\" to={data.contentfulChapitre.equivalentUrl}><Button className=\"float-right\" color=\"primary\">Fr</Button></Link>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Container>\r\n\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t<Col lg={{ size: 10, offset: 1 }} md=\"12\">\r\n\t\t\t\t\t\t\t\t<h1 className=\"page-header display-4 text-center my-5\">{data.contentfulChapitre.titreChapitre}</h1>\r\n\t\t\t\t\t\t\t\t<div className=\"text-justify lecture-texte\" dangerouslySetInnerHTML={{ __html: data.contentfulChapitre.texte.childMarkdownRemark.html }} />\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t</Container>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t{/* <div className=\"py-5\">\r\n\t\t\t\t\t<Container>\r\n\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t<Col lg={{ size: 10, offset: 1 }} md=\"12\">\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tthis.state.lecteur != \"null\" ?\r\n\t\t\t\t\t\t\t\t\t\t(<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t<Col xs=\"6\" className=\"text-center\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<EnBtn_read contentChapitre={data.contentfulChapitre} />\r\n\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t<Col xs=\"6\" className=\"text-center\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<EnBtn_like contentChapitre={data.contentfulChapitre} />\r\n\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t</Row>) :\r\n\t\t\t\t\t\t\t\t\t\t(<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t<Col xs=\"12\" className=\"text-center\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<EnBtn_like_disconnect contentChapitre={data.contentfulChapitre} />\r\n\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t</Row>)\r\n\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t</Container>\r\n\t\t\t\t</div> */}\r\n\r\n\t\t\t\t<div className=\"py-5\">\r\n\t\t\t\t\t<Container>\r\n\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t<Col lg={{ size: 10, offset: 1 }} md=\"12\">\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col xs=\"4\" className=\"text-left pl-0\">\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\tdata.contentfulChapitre.chapitreAvant ?\r\n\t\t\t\t\t\t\t\t\t\t\t\t(<Link className=\"btn btn-primary\" to={\"/en/stories/chapter/\" + data.contentfulChapitre.chapitreAvant}>Previous chapter</Link>) :\r\n\t\t\t\t\t\t\t\t\t\t\t\t('')\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t<Col xs=\"4\" className=\"text-center\"><Link className=\"btn btn-primary\" to={\"/en/stories/\" + data.contentfulChapitre.nomRoman}>Go back to the story</Link></Col>\r\n\t\t\t\t\t\t\t\t\t<Col xs=\"4\" className=\"text-right pr-0\">\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\tdata.contentfulChapitre.chapitreApres ?\r\n\t\t\t\t\t\t\t\t\t\t\t\t(<Link className=\"btn btn-primary\" to={\"/en/stories/chapter/\" + data.contentfulChapitre.chapitreApres}>Next chapter</Link>) :\r\n\t\t\t\t\t\t\t\t\t\t\t\t('')\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t</Container>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<FooterEn />\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nChapter.propTypes = {\r\n\tdata: PropTypes.object.isRequired\r\n}\r\n\r\nexport default Chapter\r\n\r\nexport const pageQuery = graphql`query chapitreQueryEN ($slug: String!) {\r\n\tcontentfulChapitre(slug: {eq:$slug}, node_locale: {eq: \"en-US\"}) {\r\n\t\ttitreChapitre\r\n\t\ttexte {\r\n\t\t\tchildMarkdownRemark {\r\n\t\t\t\thtml\r\n\t\t\t}\r\n\t\t}\r\n        chapitreAvant\r\n        chapitreApres\r\n        nomRoman\r\n\t\tslug\r\n\t\tcodeChapitre\r\n\t\tequivalentUrl\r\n\t}\r\n}`\n\n\n// WEBPACK FOOTER //\n// ./src/templates/chapter.en.js"],"sourceRoot":""}